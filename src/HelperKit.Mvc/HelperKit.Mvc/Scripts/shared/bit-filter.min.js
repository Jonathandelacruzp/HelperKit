function BitFilterRebind(a){a.find("[data-bit-filter=\"select-operador\"]").each(function(){var a=$(this),b=a.find("[name^=\"bit-filter-ope-\"]"),c=a.find("[data-bit-filter-operador=\""+b.val()+"\"]");c&&0!==c.length||(c=a.find("[data-bit-filter-operador]").first()),c.closest("ul").prev().html(c.html())}),a.find(".bf-daterangepicker").daterangepicker({opens:"center",locale:{cancelLabel:"Borrar",applyLabel:"Aceptar",customRangeLabel:"Customizable"},ranges:{Todo:[null,null],Hoy:[moment(),null],Ayer:[moment().subtract(1,"days"),null],"Últimos 7 Días":[moment().subtract(6,"days"),moment()],"Últimos 30 Días":[moment().subtract(29,"days"),moment()],"Este Mes":[moment().startOf("month"),moment().endOf("month")],"Último Mes":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},function(a,b){a||b?b?(this.element.find("span").html(a.format("DD/MM/YYYY")+" - "+b.format("DD/MM/YYYY")),this.element.closest(".bf-daterange").find("input[type=\"hidden\"]").first().val(a.format("DD/MM/YYYY")),this.element.closest(".bf-daterange").find("input[type=\"hidden\"]").last().val(b.format("DD/MM/YYYY"))):(this.element.find("span").html(a.format("DD/MM/YYYY")),this.element.closest(".bf-daterange").find("input[type=\"hidden\"]").first().val(a.format("DD/MM/YYYY")),this.element.closest(".bf-daterange").find("input[type=\"hidden\"]").last().val(a.format("DD/MM/YYYY"))):(this.element.find("span").html(""),this.element.closest(".bf-daterange").find("input[type=\"hidden\"]").first().val(""),this.element.closest(".bf-daterange").find("input[type=\"hidden\"]").last().val(""))}),$(".bf-daterangepicker").on("cancel.daterangepicker",function(){$(this).closest(".bf-daterange").find("span").html(""),$(this).closest(".bf-daterange").find(".form-control").val("")})}function BitFilterInit(a){function b(a){for(var b,c=a.split("?")[1]||"",d=/([^&=]+)=?([^&]*)/g,f=/\+/g,g=function(a){return decodeURIComponent(a.replace(f," "))},h=[];b=d.exec(c);){var i=g(b[1]),j=g(b[2]);h.push({name:i,value:j})}return h}$(a).on("click","[data-bit-filter-operador]",function(a){a.preventDefault();var b=$(this),c=b.closest("ul");c.prev().html(b.html()),0===c.next().attr("name").indexOf("bit-filter-ope-")?c.next().val(b.attr("data-bit-filter-operador")):console.log("Error en configuraci\xF3n de filtros: Hidden de operador mal ubicado")}),$(a).on("keyup","[name^=\"bit-filter-value-\"]",function(a){13===a.keyCode&&$(this).closest("[data-type=\"bit-filter\"]").find("[data-bit-filter=\"submit\"]").click()});var c=[];$(a).on("click","[data-bit-filter=\"submit\"]",function(a){a.preventDefault();var b=$(this),d=b.closest("[data-type=\"bit-filter\"]"),e=d.data("bf-source-url"),f=d.data("bf-method")||"GET",g=d.data("bf-block-id"),h=d.find("[name]").serializeArray(),i=h.concat(c);c=[],b.closest("table").find("tbody").addClass("bf-cargando"),$.ajax({method:f,url:e,data:i}).done(function(a){var b;b=g?$(a).find("[data-type=\"bit-filter\"][data-bf-block-id=\""+g+"\"]"):$(a).find("[data-type=\"bit-filter\"]").first(),d.replaceWith(b),RebindJquery(b)}).fail(function(){alert("Ha ocurrido un error al cargar los datos."),b.closest("table").find("tbody").removesClass("bf-cargando")})}),$(a).on("click","[data-bit-filter=\"reset\"]",function(a){a.preventDefault();var b=$(this);b.parent().parent().parent().find("[name^=bit-filter-value]").val(""),b.parent().parent().parent().find(".bf-daterangepicker span").text("")}),$(a).on("click",".pagination a",function(a){var d=$(this),e=d.closest("[data-type=\"bit-filter\"]");if(0<e.length){a.preventDefault();var f=d.attr("href");c=b(f),e.find("[data-bit-filter=\"submit\"]").click()}}),BitFilterRebind(a)}BitFilterInit($(document));